### 语句

```sql
--DDL
create table student(id int,name varchar(20),sex char(1));  --创建表
alter table student add achievement int;  --为student表添加字段
alter table student modify sex char(2) --修改表字段类型或尺寸
alter table student drop achievement;  --删除表中的列
rename table student to person; --修改表名
alter table person character set gbk; --修改表的编码
show create table user; --查看表创建信息
alter table user change name username varchar(20); --修改字段名称
--DML
insert into user (id,name,sex) values (1,"小明","男"); --插入一条数据
insert into user values (1,"小明","男"); --简写插入
insert into user (id,name,sex) values    --批量添加
(1,"小明","男"),
(2,"小明","男"),
(3,"小明","男");
update user set name = "xiaohong",sex = "女" where id = 1; --修改数据
delete from user where id = 1; --删除数据
delete from user;  --将表中数据全部删除
--DQL
-- select 字段名 from 表明 [where -> group by -> having -> order by]
select name from user; --查询用户名称
select name,sex from user; --查询姓名和性别
select * from user; --查询所有字段，存在性能问题，开发中不建议使用*
select name,age,sal*12 from user; --sal是月薪，乘以12可以查询年薪
select name,age,sal*12 as yearsal from user; --as可以给字段起别名
select name from user where id = 10;  --查询id为10
select name from user where sal > 1000; --查询薪水大于1000
select name from user where name = '小明'; --字符串需要用引号
select name from user where id != 10; --id不等于10
select name from user where id <> 10; --同上，建议使用此符号，id不等于10
select name from user where sal >= 1000 and sal <= 5000; --薪水在1000到5000之间
select name from user where sal between 1000 and 5000; --同上，薪水在1000到5000之间
select name from user where sal is null; --薪水为null
select name from user where sal <= 1000 or sal >= 5000; --薪水小宇1000或大于5000
select name from user where name in ('Lily','lucy','xiaoming');  --只要满足一个就可以，执行效率低，尽量避免使用
select name from user where name not in ('Lily','lucy','xiaoming');  --都不是就符合条件，执行效率低，尽量避免使用
select name from user where name like 'm%'; --模糊查询，以m开头，like性能较低
select name from user where name like '%m'; --模糊查询，以m结尾
select name from user where name like '%m%'; --查詢字母中間包括m的
select name from user where name like '_m%'; --查詢第二个字母是m的，一个下划线代表一个字符
select name from user order by sal; --默认为按sal升序排列
select name from where name like 'm' order by sal; --先写条件，再写排序
select name from where name like 'm' order by sal asc; --手动指定升序，与默认相同
select name from where name like 'm' order by sal desc; --手动指定降序排列
select name from user order by name,sal; --多字段排序，先按照name排序，再按照sal排序

```

### 函数

```sql
select lower(name) from user; --查询员工姓名，并将信命转换成小写。
select upper(name) from user; --查询员工姓名，并将信命转换成大写。
select substr(name,2,1) from user; --查询姓名，截取字符串，只显示第二个字母
select name from user where substr(name,2,1) = 'A'; --查询姓名，显示第二个字母为a的
select name,length(name) as nameLength from user; --显示姓名长度
select name,ifnull(sal,0) from user; --如果sal的值为null，name替换成0。
select name,(sal + ifnull(comm,0)) as totalSal from emp; --（comm为津贴）查询总薪水
--case..when..then..else..end 相当于if判断
--trim 去掉空格
select name from user where name = trim('   test   '); --去掉空格，一般在java中就已经判断了，所以数据库用到的情况下不多
select round(sal,1) from user; --查看薪水，四舍五入保留一位小数，
select rand(); --生成一个0-1的随机数
select sum(sal) as sumSal from user; --获取薪水的合计。
select sum(sal + ifnull(comm,0)) as totalSal from user; --获取总薪水
select avg(sal) as avgSal from user; --获取薪水的平均数
select max(sal) as maxSal from user; --获取最高薪水
select min(sal) as minSal from user; --获取最低薪水
select count(*) from user; --获取数据的总数
select count(comm) from user; --count会忽略空值，可以获取comm(补助)不为空的数量
select distinct name from user; --去掉重复的name数据
select count(distinct job) from user; --查询工作岗位的数量
select job,max(sal) as maxJob from user group by job; --根据job进行分组，找出每组的最高薪水
```